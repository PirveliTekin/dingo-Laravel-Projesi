<?phpnamespace App\Helper;use App\Models\User;use Spatie\Permission\Models\Permission;use Spatie\Permission\Models\Role;class Helper{    public static function getRoles($list)    {        $defaultSystemVars = getVar($list);        $roles = Role::all()->pluck('name')->all();        foreach ($defaultSystemVars['default_role'] as $value) {            if (!in_array($value['name'], $roles)) {                if ($value['name'] !== 'User') {                    $is_see_admin = 1;                } else {                    $is_see_admin = 0;                }                 Role::create([                    'name' => $value['name'],                    'description' => $value['description'],                    'is_main' => 1,                    'is_see_admin' => $is_see_admin,                    'guard_name' => $value['guard_name']                ]);            }        }        $users = User::all()->pluck('email')->all();        foreach ($defaultSystemVars['default_user'] as $value) {            if (!in_array($value['email'], $users)) {                User::create([                    'name' => $value['name'],                    'email' => $value['email'],                    'password' => bcrypt($value['password'])                ]);            }        }        $permissions = Permission::all()->pluck('name')->all();        foreach ($defaultSystemVars['default_permission'] as $value) {            if (!in_array($value['name'], $permissions)) {                Permission::create([                    'name' => $value['name'],                    'description' => $value['description'],                    'is_main' => 1,                    'guard_name' => $value['guard_name']                ]);            }        }        $permission = Permission::all();        $admin_role = Role::whereName('Admin')->first();        $adminUser = User::whereEmail('gundogdutekin@gmail.com')->first();        $user_role = Role::whereName('User')->first();        $webUser = User::whereEmail('gundogdutekin@hotmail.com')->first();        $webUser->assignRole($user_role);        $adminUser->assignRole($admin_role);        $admin_role->givePermissionTo($permission);    }}